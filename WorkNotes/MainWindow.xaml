<Window x:Class="WorkNotes.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:controls="clr-namespace:WorkNotes.Controls"
        Title="Work Notes" 
        Height="600" 
        Width="900"
        WindowStartupLocation="CenterScreen">
    <DockPanel>
        <!-- Classic Menu Bar -->
        <Menu DockPanel.Dock="Top">
            <MenuItem Header="_File">
                <MenuItem Header="_New Tab" 
                          Click="New_Click" 
                          InputGestureText="Ctrl+N"/>
                <MenuItem Header="_Open..." 
                          Click="Open_Click" 
                          InputGestureText="Ctrl+O"/>
                <MenuItem Header="_Save" 
                          Click="Save_Click" 
                          InputGestureText="Ctrl+S"/>
                <MenuItem Header="Save _As..." 
                          Click="SaveAs_Click" 
                          InputGestureText="Ctrl+Shift+S"/>
                <Separator/>
                <MenuItem Header="_Close Tab" 
                          Click="CloseTab_Click" 
                          InputGestureText="Ctrl+W"/>
                <Separator/>
                <MenuItem Header="E_xit" 
                          Click="Exit_Click" 
                          InputGestureText="Alt+F4"/>
            </MenuItem>
            <MenuItem Header="_Edit">
                <MenuItem Header="_Undo" 
                          Click="Undo_Click" 
                          InputGestureText="Ctrl+Z"/>
                <MenuItem Header="_Redo" 
                          Click="Redo_Click" 
                          InputGestureText="Ctrl+Y"/>
                <Separator/>
                <MenuItem Header="Cu_t" 
                          Click="Cut_Click" 
                          InputGestureText="Ctrl+X"/>
                <MenuItem Header="_Copy" 
                          Click="Copy_Click" 
                          InputGestureText="Ctrl+C"/>
                <MenuItem Header="_Paste" 
                          Click="Paste_Click" 
                          InputGestureText="Ctrl+V"/>
                <Separator/>
                <MenuItem Header="_Find..." 
                          Click="Find_Click" 
                          InputGestureText="Ctrl+F"/>
                <MenuItem Header="_Replace..." 
                          Click="Replace_Click" 
                          InputGestureText="Ctrl+H"/>
            </MenuItem>
            <MenuItem Header="_View">
                <MenuItem Header="_Formatted View" 
                          Click="ViewFormatted_Click"
                          IsCheckable="True"
                          x:Name="MenuViewFormatted"/>
                <MenuItem Header="_Markdown Source" 
                          Click="ViewSource_Click"
                          IsCheckable="True"
                          x:Name="MenuViewSource"/>
                <Separator/>
                <MenuItem Header="Toggle View Mode"
                          Click="ViewModeToggle_Click"
                          InputGestureText="Ctrl+Shift+M"/>
                <Separator/>
                <MenuItem Header="_Bionic Reading"
                          Click="BionicReading_Click"
                          IsCheckable="True"
                          x:Name="MenuBionicReading"/>
            </MenuItem>
            <MenuItem Header="F_ormat">
                <MenuItem Header="_Bold" 
                          Click="Bold_Click" 
                          InputGestureText="Ctrl+B"/>
                <MenuItem Header="_Italic" 
                          Click="Italic_Click" 
                          InputGestureText="Ctrl+I"/>
                <MenuItem Header="Insert _Link" 
                          Click="InsertLink_Click" 
                          InputGestureText="Ctrl+K"/>
            </MenuItem>
            <MenuItem Header="_Settings">
                <MenuItem Header="_Preferences..."
                          Click="Preferences_Click"/>
            </MenuItem>
        </Menu>

        <!-- Toolbar -->
        <ToolBarTray DockPanel.Dock="Top" 
                     Background="{DynamicResource App.Surface}"
                     IsLocked="True">
            <ToolBar Background="Transparent" 
                     BorderThickness="0,0,0,1"
                     BorderBrush="{DynamicResource App.Border}">
                
                <!-- Bold Button -->
                <Button x:Name="BoldButton"
                        Click="Bold_Click"
                        ToolTip="Bold (Ctrl+B)"
                        Width="32"
                        Height="28"
                        Padding="4">
                    <Viewbox Width="16" Height="16">
                        <Canvas Width="16" Height="16">
                            <Path Data="M4,2 L4,14 M4,2 L10,2 C11.5,2 12.5,3 12.5,4.5 C12.5,5.5 12,6.5 10.5,7 C12.5,7.5 13.5,8.5 13.5,10.5 C13.5,12.5 12,14 10,14 L4,14 M4,7 L10.5,7 M4,2 L10,2 M4,14 L10,14"
                                  Stroke="{DynamicResource App.IconPrimary}"
                                  StrokeThickness="1.5"
                                  Fill="Transparent"/>
                        </Canvas>
                    </Viewbox>
                </Button>

                <!-- Italic Button -->
                <Button x:Name="ItalicButton"
                        Click="Italic_Click"
                        ToolTip="Italic (Ctrl+I)"
                        Width="32"
                        Height="28"
                        Padding="4">
                    <Viewbox Width="16" Height="16">
                        <Canvas Width="16" Height="16">
                            <Path Data="M6,2 L12,2 M4,14 L10,14 M9,2 L7,14"
                                  Stroke="{DynamicResource App.IconPrimary}"
                                  StrokeThickness="1.5"
                                  Fill="Transparent"/>
                        </Canvas>
                    </Viewbox>
                </Button>

                <Separator/>

                <!-- Link Button -->
                <Button x:Name="LinkButton"
                        Click="InsertLink_Click"
                        ToolTip="Insert Link (Ctrl+K)"
                        Width="32"
                        Height="28"
                        Padding="4">
                    <Viewbox Width="16" Height="16">
                        <Canvas Width="16" Height="16">
                            <Path Data="M7,9 L9,7 M4,6 L6,4 C7.5,2.5 9.5,2.5 11,4 C12.5,5.5 12.5,7.5 11,9 L9,11 M5,12 L7,10 C5.5,11.5 3.5,11.5 2,10 C0.5,8.5 0.5,6.5 2,5 L4,3"
                                  Stroke="{DynamicResource App.IconPrimary}"
                                  StrokeThickness="1.5"
                                  Fill="Transparent"/>
                        </Canvas>
                    </Viewbox>
                </Button>
            </ToolBar>
        </ToolBarTray>

        <!-- Status Bar -->
        <StatusBar DockPanel.Dock="Bottom">
            <!-- View Mode Toggle -->
            <StatusBarItem>
                <Button x:Name="ViewModeToggle"
                        Click="ViewModeToggle_Click"
                        Background="Transparent"
                        BorderThickness="0"
                        Padding="8,4"
                        Cursor="Hand"
                        ToolTip="Toggle view mode (Ctrl+Shift+M)">
                    <StackPanel Orientation="Horizontal">
                        <!-- Icon -->
                        <TextBlock x:Name="ViewModeIcon" 
                                   Text="Aa" 
                                   FontWeight="Bold"
                                   FontSize="14"
                                   Margin="0,0,6,0"
                                   Foreground="{DynamicResource App.TextSecondary}"/>
                        <!-- Text -->
                        <TextBlock x:Name="ViewModeText" 
                                   Text="Formatted"
                                   FontSize="12"
                                   Foreground="{DynamicResource App.TextSecondary}"/>
                    </StackPanel>
                </Button>
            </StatusBarItem>
            
            <Separator/>
            
            <!-- Status Message -->
            <StatusBarItem>
                <TextBlock x:Name="StatusText" Text="Ready"/>
            </StatusBarItem>
        </StatusBar>

        <!-- Tab Control -->
        <TabControl x:Name="TabControl"
                    SelectionChanged="TabControl_SelectionChanged"
                    Background="{DynamicResource App.Background}"
                    BorderThickness="0,1,0,0"
                    BorderBrush="{DynamicResource App.Border}">
        </TabControl>
    </DockPanel>
</Window>
